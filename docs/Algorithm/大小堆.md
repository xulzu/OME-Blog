```js

class PriorityQueue{
	constructor(){
		this.heap=new Array()
	}
	offer(item){
		if(!this.heap.length){
			this.heap.push(item)
		}else{
			let insertIndex=this.heap.length
			this.heap.push(item)
			let parentIndex=(insertIndex-1)>>1
			// 插入的节点小于父节点，交换子节点和父节点
			while(this.heap[parentIndex]>item){
				[this.heap[parentIndex],this.heap[insertIndex]]=[this.heap[insertIndex],this.heap[parentIndex]]
				insertIndex=parentIndex
				parentIndex=(insertIndex-1)>>1
			}
		}
	}
	poll(){
		if(!this.heap.length) return 
		let ret=this.heap[0]
		if(this.heap.length===1){
			this.heap.length=0
			return ret
		}
		this.heap[0]=this.heap.pop()
		let downHeap=(downIndex)=>{
			// 没有其他节点了
			if(2*downIndex+1>this.heap.length-1) return;
			let downTo=2*downIndex+1;
			// 找到下一层子节点中较小的一个
			if(downTo+1<this.heap.length&&this.heap[downTo]>this.heap[downTo+1]){
				downTo++
			}
			if(this.heap[downTo]<this.heap[downIndex]){
				[this.heap[downTo],this.heap[downIndex]]=[this.heap[downIndex],this.heap[downTo]]
				downHeap(downTo)
			}
		}
		downHeap(0)
		return ret
	}
}
```

